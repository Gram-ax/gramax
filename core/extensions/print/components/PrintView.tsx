import { useDismissableToast } from "@components/Atoms/DismissableToast";
import ApiUrlCreator from "@core-ui/ApiServices/ApiUrlCreator";
import ArticleViewService from "@core-ui/ContextServices/views/articleView/ArticleViewService";
import isSafari from "@core-ui/utils/isSafari";
import { ClientCatalogProps } from "@core/SitePresenter/SitePresenter";
import styled from "@emotion/styled";
import t from "@ext/localization/locale/translate";
import NavigationEventsService from "@ext/navigation/NavigationEvents";
import { Loader } from "ics-ui-kit/components/loader";
import { useEffect } from "react";
import { PAGE_HEIGHT, PAGE_HEIGHT_PDF, PAGE_WIDTH, PAGE_WIDTH_PDF } from "../const";
import { PdfPrintParams } from "../types";
import PrintPages from "./PrintPages";

type PrintViewProps = {
	itemPath?: string;
	isCategory?: boolean;
	catalogProps: ClientCatalogProps;
	apiUrlCreator: ApiUrlCreator;
	params: PdfPrintParams;
	className?: string;
};

const PrintView = ({ itemPath, isCategory, catalogProps, apiUrlCreator, params, className }: PrintViewProps) => {
	const { dismiss, show } = useDismissableToast({
		title: t("export.pdf.process"),
		closeAction: false,
		focus: "medium",
		size: "sm",
		status: "info",
		primaryAction: <Loader size="md" />,
	});

	useEffect(() => {
		show();
		const listener = () => ArticleViewService.setDefaultBottomView();
		const token = NavigationEventsService.on("item-click", listener);
		return () => NavigationEventsService.off(token);
	}, []);

	return (
		<div className={`article-body ${className}`}>
			<PrintPages
				itemPath={itemPath}
				isCategory={isCategory}
				params={params}
				catalogProps={catalogProps}
				apiUrlCreator={apiUrlCreator}
				onDone={() => {
					dismiss.current?.();
					setTimeout(() => {
						window.print();
					}, 300);
				}}
			/>
		</div>
	);
};

export default styled(PrintView)`
	overflow: scroll;
	visibility: hidden;
	height: 0px !important;

	&,
	.print-body {
		min-width: ${PAGE_WIDTH_PDF}px !important;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6,
	.page:first-child {
		page-break-before: unset !important;
	}

	.page {
		margin: 2rem 0;
		padding: 3rem;
		overflow: hidden;
		box-sizing: border-box;
		border: 1px solid #ccc;
		page-break-before: always;
		width: ${PAGE_WIDTH}px;
		height: ${PAGE_HEIGHT}px;
		padding-top: ${isSafari() ? "90px" : "2rem"} !important;

		* {
			color: #000 !important;
			border-color: rgba(0, 0, 0, 0.13) !important;
		}
	}

	table[data-header="row"] tbody tr:first-child td {
		font-weight: 300;
		color: var(--color-article-text);
	}

	.toc-page {
		flex: 0 0 auto;
		text-decoration: none;

		.toc-page-items {
			margin: 0;
			padding: 0;
			list-style: none;

			.toc-item-link {
				display: flex;
				text-decoration: none;

				&:hover {
					text-decoration: none;
				}

				.toc-item-title {
					flex: 1 1 auto;
					min-width: 0;
					overflow: hidden;
					text-overflow: ellipsis;
					white-space: nowrap;
				}
			}

			.toc-item-level-2 {
				font-size: 0.95em;
			}
			.toc-item-level-3,
			.toc-item-level-4,
			.toc-item-level-5,
			.toc-item-level-6,
			.toc-item-level-7,
			.toc-item-level-8,
			.toc-item-level-9,
			.toc-item-level-10 {
				font-size: 0.9em;
			}

			.toc-item-level-2 {
				margin-left: 1em;
			}
			.toc-item-level-3 {
				margin-left: 2em;
			}
			.toc-item-level-4 {
				margin-left: 3em;
			}
			.toc-item-level-5 {
				margin-left: 4em;
			}
			.toc-item-level-6 {
				margin-left: 5em;
			}
			.toc-item-level-7 {
				margin-left: 6em;
			}
			.toc-item-level-8 {
				margin-left: 7em;
			}
			.toc-item-level-9 {
				margin-left: 8em;
			}
			.toc-item-level-10 {
				margin-left: 9em;
			}
		}
	}

	.title-page {
		display: flex;
		position: relative;
		flex-direction: column;
		justify-content: center;

		.title-page-top {
			top: 0;
			left: 0;
			width: 100%;
			height: 150px;
			display: flex;
			position: absolute;
			align-items: center;
			justify-content: space-between;
		}

		.title-page-header {
			font-size: 65px;
			font-weight: 400;
		}
	}

	/* 
.title-page .title-page-header {
	padding-bottom: 8rem;
}
.title-page::after {
	top: 150px;
	left: 7rem;
	width: 80%;
	height: 100%;
	content: " ";
	position: absolute;
	background-size: contain;
	background-clip: padding-box;
	background-repeat: no-repeat;
	background-attachment: unset;
	background-position-x: center;
	background-position-y: center;
	background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkxIiBoZWlnaHQ9IjEzMyIgdmlld0JveD0iMCAwIDE5MSAxMzMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIKICAgICAgICBkPSJNNDguODg4OCAzNy4xNzM0VjM2Ljc0NjdDNDguODg4OCAzMy43NjAxIDUxLjMwNjUgMzEuMzQyMiA1NC4yOTMyIDMxLjM0MjJDNTcuMjc5OSAzMS4zNDIyIDU5LjY5NzYgMzMuNzYwMSA1OS42OTc2IDM2Ljc0NjdDNTkuNjk3NiAzOS43MzM0IDU3LjI3OTkgNDIuMTUxMSA1NC4yOTMyIDQyLjE1MTFDNTMuNzI0MiA0Mi4xNTExIDUzLjI5NzYgNDIuMDA4OCA1Mi43Mjg4IDQxLjg2NjdMMTkuMzA2NSA2Ny4zMjRWNzguMTMzTDIzLjAwNDIgNzEuMzA3TDI4LjQwODggNzQuMjkzTDEzLjYxNzYgMTAxLjE3M0w4LjIxMzIgOTguMTg3TDEyLjkwNjUgODkuNTExVjY0LjE5NUw0OC44ODg4IDM3LjE3MzRaTTY2LjUyNCAxMzIuODg5SDAuNTMzMjAzVjEyNi42MzFIOS4wNjY1MUwyNC43MTA5IDk4LjA0NEwzOS4wNzU1IDk1LjYyN0w2Mi4yNTggNzIuNDQ0TDYxLjk3MyA3Mi4wMThINjEuNjg5QzU4LjU1OTkgNzIuMDE4IDU2LjE0MjIgNjkuNiA1NS45OTk5IDY2LjYxM0M1NS44NTc2IDYzLjYyNyA1OC40MTc2IDYxLjA2NyA2MS40MDQgNjAuOTI0QzY0LjUzMyA2MC45MjQgNjYuOTUxIDYzLjM0MiA2Ny4wOTMgNjYuMzI5QzY3LjA5MyA2Ni44OTggNjYuOTUxIDY3LjQ2NyA2Ni44MDkgNjguMTc4TDg3LjI4OSA5My45MkgxMDQuNDk4VjEwMC4xNzhIOTYuMzkxTDg1LjQ0IDExMS4xMjlMODMuMTY0IDEwOC44NTNMOTEuODQgMTAwLjE3OEg4Ny40MzFMNzYuNDggMTExLjEyOUw3NC4yMDQgMTA4Ljg1M0w4My40NDkgOTkuNjA5TDgxLjQ1OCA5Ny4xOTFMNjcuNTIgMTExLjEyOUw2NS4yNDQgMTA4Ljg1M0w3OS40NjcgOTQuNjMxTDc3LjQ3NiA5Mi4yMTNMNTAuMTY4OCAxMTkuNTJINTAuMDI2NUw1NC4wMDg4IDEyNi43NzNINjUuOTU1VjEzMi44ODlINjYuNTI0Wk0xOS43MzMyIDEyNi42MzFMMzAuNjg0MiAxMDYuNTc4TDQzLjQ4NDIgMTA0LjQ0NEw2OC4yMzEgNzkuODRMNjYuMjQgNzcuNDIyTDQyLjA2MjIgMTAxLjZMMjguODM1NSAxMDMuODc1TDE2LjE3NzYgMTI2Ljc3M0wxOS43MzMyIDEyNi42MzFaTTQzLjc2ODggMTI2LjYzMUwzNS44MDQyIDExMi4xMjRMNDYuNDcwOSAxMTAuNDE4TDcyLjIxMyA4NC42NzVMNzAuMjIyIDgyLjI1OEw0NS4wNDg4IDEwNy4yODlMMzIuODE3NiAxMDkuNDIyTDIzLjI4ODggMTI2LjYzMUg0My43Njg4Wk01MC44Nzk5IDEyNi42MzFMNDUuNjE3NiAxMTYuOTZMNDkuMTczMiAxMTYuNTMzTDc2LjA1MyA4OS43OTVMNzQuMDYyIDg3LjM3OEw0Ny44OTMyIDExMy41NDdMNDAuNjM5OSAxMTQuNjg0TDQ3LjMyNDIgMTI2Ljc3M0w1MC44Nzk5IDEyNi42MzFaTTEyNC42OTMgNDQuMjg0NEwxMjguNjc2IDM5LjQ0ODhMMTEyLjAzNiAyNi4wODAxTDkxLjY5OCAzOS40NDg4Qzg4Ljg1MyAzOC4zMTExIDg1LjU4MiAzOS41OTExIDg0LjQ0NCA0Mi40MzU1QzgzLjMwNyA0NS4yODAxIDg0LjU4NyA0OC41NTEgODcuNDMxIDQ5LjY4OUM5MC4yNzUgNTAuODI3IDkzLjU0NyA0OS41NDcgOTQuNjg0IDQ2LjcwMjFDOTQuOTY5IDQ1Ljk5MTEgOTUuMTExIDQ1LjQyMjEgOTUuMTExIDQ0LjcxMTFMMTExLjYwOSAzMy45MDIyTDEyNC42OTMgNDQuMjg0NFpNNzAuNzkxIDQwLjQ0NDRMMTEyLjc0NyAxMi4wMDAxQzExMy42IDEyLjQyNjcgMTE0LjQ1MyAxMi41Njg4IDExNS40NDkgMTIuNTY4OEMxMTYuMTYgMTIuNTY4OCAxMTcuMDEzIDEyLjQyNjcgMTE3LjcyNCAxMi4xNDIyTDE2Mi41MjQgNDguNTUxSDE0NS42VjU0LjgwOUgxNjcuMDc2TDE1My45OTEgOTMuOTJIMTM5LjA1OFYxMDAuMTc4SDE1OC40TDE2OS4zNTEgNjcuMzI0SDE4NC43MVY2MS4wNjdIMTcxLjQ4NEwxNzMuNjE3IDU0LjgwOUgxOTAuOTY5VjQ4LjU1MUgxNzIuNDhMMTIxLjcwNyA3LjMwNjdDMTIyLjI3NiAzLjg5MzQgMTIwIDAuNzY0Mzk3IDExNi41ODcgMC4xOTU0OTdDMTEzLjE3MyAtMC4zNzMzMDMgMTEwLjA0NCAxLjkwMjIgMTA5LjQ3NiA1LjMxNTVDMTA5LjQ3NiA1LjYwMDEgMTA5LjMzMyA2LjAyNjcgMTA5LjMzMyA2LjMxMTFWNi43Mzc4TDY3LjM3OCAzNS4zMjQ0TDcwLjc5MSA0MC40NDQ0Wk0xMzMuNjUzIDkxLjY0NEwxMDYuNzczIDExOC41MjRDMTA2LjkxNiAxMTguOTUxIDEwNi45MTYgMTE5LjM3OCAxMDYuOTE2IDExOS44MDRDMTA2LjkxNiAxMjIuNzkxIDEwNC40OTggMTI1LjM1MSAxMDEuMzY5IDEyNS4zNTFDOTguMjQgMTI1LjM1MSA5NS44MjIgMTIyLjkzMyA5NS44MjIgMTE5LjgwNEM5NS44MjIgMTE2LjgxOCA5OC4yNCAxMTQuMjU4IDEwMS4zNjkgMTE0LjI1OEgxMDEuNTExTDExNy40NCA5OC4zMjlMMTEwLjQ3MSA5MC41MDdDMTEwLjA0NCA5MC42NDkgMTA5LjYxOCA5MC42NDkgMTA5LjE5MSA5MC42NDlDMTA1Ljc3OCA5MC42NDkgMTAyLjkzMyA4Ny44MDQgMTAyLjkzMyA4NC4zOTFDMTAyLjkzMyA4MC45NzggMTA1Ljc3OCA3OC4xMzMgMTA5LjE5MSA3OC4xMzNDMTEyLjYwNCA3OC4xMzMgMTE1LjQ0OSA4MC45NzggMTE1LjQ0OSA4NC4zOTFDMTE1LjQ0OSA4NS4xMDIgMTE1LjMwNyA4NS42NzEgMTE1LjE2NCA4Ni4zODJMMTE2LjAxOCA4Ny4yMzVMMTI1Ljk3MyA3Ny4yOEwxMjEuMjggNzIuNDQ0TDEyNS42ODkgNjguMDM1TDE0MS4wNDkgODMuMzk1TDEzNi42NCA4Ny44MDRMMTMyLjY1OCA4My44MjJMMTIyLjQxOCA5NC4wNjJMMTI0LjU1MSA5Ni4zMzhMMTMxLjY2MiA4OS4yMjdMMTMzLjY1MyA5MS42NDRaTTEyMC4xNDIgOTEuOTI5TDEzMC4yNCA4MS42ODlMMTI3Ljk2NCA3OS40MTNMMTE3Ljg2NyA4OS41MTFMMTIwLjE0MiA5MS45MjlaTTEzMy4zNjkgMTAwLjc0N0wxMzEuMDkzIDk4LjQ3MUwxMTMuMTczIDExNi4zOTFMMTE1LjQ0OSAxMTguNjY3TDEzMy4zNjkgMTAwLjc0N1pNMTE3LjU4MiAxMjAuOTQyTDExOS44NTggMTIzLjIxOEwxMzMuOTM4IDEwOS4xMzhMMTMxLjY2MiAxMDYuODYyTDExNy41ODIgMTIwLjk0MlpNMTQwLjkwNyAxMjYuNjMxSDEyNS4yNjJMMTMzLjY1MyAxMTguMjRMMTMxLjM3OCAxMTUuOTY0TDEyMC43MTEgMTI2LjYzMUgxMTUuMzA3VjEzMi44ODlIMTQwLjc2NFYxMjYuNjMxSDE0MC45MDdaTTYuNzkwOSA2MS4wNjdMMjMuNTczMiA0OC41NTFMMTkuODc1NSA0My41NzM0TDAuNTMzMjAzIDU3LjkzOFY3My41ODJINi43OTA5VjYxLjA2N1oiCiAgICAgICAgZmlsbD0iIzE0MUEyMCIgLz4KPC9zdmc+);
} 

.title-page-top .title-page-top-left::after {
	left: 0;
	top: 30px;
	content: " ";
	width: 200px;
	height: 200px;
	position: absolute;
	-webkit-background-size: contain;
	background-size: contain;
	-webkit-background-clip: padding-box;
	background-clip: padding-box;
	background-repeat: no-repeat;
	background-attachment: unset;
	background-position-x: center;
	background-position-y: center;
	background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYyIiBoZWlnaHQ9IjEyNiIgdmlld0JveD0iMCAwIDE2MiAxMjYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+Cgk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIKCQlkPSJNNjMuODkzNyAxOC42MjI4VjE4LjQ3ODhDNjMuODkzNyAxNy4wMzg4IDY1LjExNTYgMTUuODE0OCA2Ni41NTMgMTUuODE0OEM2Ny45OTEgMTUuODE0OCA2OS4yMTMgMTcuMDM4OCA2OS4yMTMgMTguNDc4OEM2OS4yMTMgMTkuOTE4OCA2Ny45OTEgMjEuMTQyOCA2Ni41NTMgMjEuMTQyOEM2Ni4zMzcgMjEuMTQyOCA2Ni4wNSAyMS4wNzA4IDY1LjgzNDQgMjAuOTk4OEw0OS41MTg3IDMzLjMxMDhWMzguNTY2OEw1MS4zMTU2IDM1LjI1NDhMNTMuOTc1IDM2LjY5NDhMNDYuNzg3NSA0OS43OTg4TDQ0LjEyODEgNDguMzU4OEw0Ni40MjgxIDQ0LjExMDhWMzEuNzk4OEw2My44OTM3IDE4LjYyMjhaTTczLjgxMyA2NS4yNzg4SDQwLjM5MDZWNjIuMjU0OEg0NC41NTk0TDUyLjE3ODEgNDguMzU4OEw1OS4xNSA0Ny4xMzQ4TDcwLjQzNCAzNS44MzA4TDcwLjI5MSAzNS42MTQ4SDcwLjE0N0M2OC43MDkgMzUuNjE0OCA2Ny40ODggMzQuMzkwOCA2Ny40ODggMzIuOTUwOEM2Ny40ODggMzEuNTEwOCA2OC43MDkgMzAuMjg2OCA3MC4xNDcgMzAuMjg2OEM3MS41ODQgMzAuMjg2OCA3Mi44MDYgMzEuNTEwOCA3Mi44MDYgMzIuOTUwOEM3Mi44MDYgMzMuMjM4OCA3Mi43MzQgMzMuNDU0OCA3Mi42NjIgMzMuNzQyOEw4Mi42NTMgNDYuMjcwOEg5MS4wNjNWNDkuMjk0OEg4Ny4xMDlMODEuNzkxIDU0LjYyMjhMODAuNzEzIDUzLjU0MjhMODQuOTUzIDQ5LjI5NDhIODIuNzk3TDc3LjQ3OCA1NC42MjI4TDc2LjQgNTMuNTQyOEw4MC45MjggNDkuMDA2OEw3OS45OTQgNDcuNzgyOEw3My4xNjYgNTQuNjIyOEw3Mi4wODggNTMuNTQyOEw3OC45ODggNDYuNjMwOEw3OC4wNTMgNDUuNDA2OEw2NC43NTYyIDU4LjcyNjhINjQuNjg0NEw2Ni42MjUgNjIuMjU0OEg3My44MTNWNjUuMjc4OFpNNDkuNzM0NCA2Mi4xODI4TDU1LjEyNSA1Mi40NjI4TDYxLjMwNjMgNTEuMzgyOEw3My4zMDkgMzkuMzU4OEw3Mi4zNzUgMzguMTM0OEw2MC42NTk0IDQ5Ljg3MDhMNTQuMTkwNiA1MS4wMjI4TDQ4LjA4MTIgNjIuMTgyOEg0OS43MzQ0Wk02MS4zNzgxIDYyLjE4MjhMNTcuNDk2OSA1NS4xMjY4TDYyLjY3MTkgNTQuMjYyOEw3NS4xNzggNDEuNzM0OEw3NC4yNDQgNDAuNTEwOEw2Mi4wMjUgNTIuNzUwOEw1Ni4wNTk0IDUzLjc1ODhMNTEuNDU5NCA2Mi4xMTA4TDYxLjM3ODEgNjIuMTgyOFpNNjQuOSA2Mi4xODI4TDYyLjMxMjUgNTcuNDMwOEw2NC4wMzc1IDU3LjIxNDhMNzcuMTE5IDQ0LjE4MjhMNzYuMTg0IDQyLjk1ODhMNjMuNDYyNSA1NS43MDI4TDU5Ljk0MDYgNTYuMjc4OEw2My4xNzUgNjIuMTgyOEg2NC45Wk0xMDAuNzY2IDIyLjA3ODhMMTAyLjYzNCAxOS43MDI4TDk0LjU4NCAxMy4yMjI4TDg0LjczOCAxOS43MDI4Qzg0LjQ1IDE5LjU1ODggODQuMDkxIDE5LjQ4NjggODMuNzMxIDE5LjQ4NjhDODIuMjIyIDE5LjQ4NjggODEgMjAuNzEwOCA4MSAyMi4yMjI4QzgxIDIzLjczNDggODIuMjIyIDI0Ljk1ODggODMuNzMxIDI0Ljk1ODhDODUuMjQxIDI0Ljk1ODggODYuMzkxIDIzLjczNDggODYuNDYzIDIyLjI5NDhMOTQuNTEzIDE3LjAzODhMMTAwLjc2NiAyMi4wNzg4Wk03NC41MzEgMjAuMjA2OEw5NC45NDQgNi4zMTA3OEM5NS4zNzUgNi41MjY3OCA5NS44MDYgNi41OTg3OCA5Ni4yMzggNi41OTg3OEM5Ni41OTcgNi41OTg3OCA5Ni45NTYgNi41MjY3OCA5Ny4zMTYgNi4zODI3OEwxMTkuMDk0IDI0LjA5NDhIMTEwLjgyOFYyNy4xMTg4SDEyMS4yNUwxMTQuODUzIDQ2LjEyNjhIMTA3LjU5NFY0OS4xNTA4SDExNy4wMDlMMTIyLjMyOCAzMy4xNjY4SDEyOS44MDNWMzAuMTQyOEgxMjMuNDA2TDEyNC40MTMgMjcuMTE4OEgxMzIuODk0VjI0LjA5NDhIMTIzLjkwOUw5OS4zMjggNC4wNzg3OEM5OS4zMjggMy45MzQ3OCA5OS40IDMuNzkwNzggOTkuNCAzLjU3NDc4Qzk5LjQgMS45MTg3OCA5OC4wMzQgMC41NTA3ODEgOTYuMzgxIDAuNTUwNzgxQzk0LjcyOCAwLjU1MDc4MSA5My4zNjMgMS45MTg3OCA5My4zNjMgMy41NzQ3OFYzLjc5MDc4TDcyLjk1IDE3LjY4NjhMNzQuNTMxIDIwLjIwNjhaTTEwNS4xNSA0NS4xOTA4TDkyLjA2OSA1OC4yOTQ4QzkyLjE0MSA1OC41MTA4IDkyLjE0MSA1OC42NTQ4IDkyLjE0MSA1OC44NzA4QzkyLjE0MSA2MC4zMTA4IDkwLjkxOSA2MS41MzQ4IDg5LjQ4MSA2MS41MzQ4Qzg4LjA0NCA2MS41MzQ4IDg2LjgyMiA2MC4zMTA4IDg2LjgyMiA1OC44NzA4Qzg2LjgyMiA1Ny40MzA4IDg4LjA0NCA1Ni4yMDY4IDg5LjQ4MSA1Ni4yMDY4SDg5LjU1M0w5Ny4zMTYgNDguNDMwOEw5My45MzggNDQuNjE0OEM5My43MjIgNDQuNjg2OCA5My41MDYgNDQuNjg2OCA5My4yOTEgNDQuNjg2OEM5MS42MzggNDQuNjg2OCA5MC4yNzIgNDMuMzE4OCA5MC4yNzIgNDEuNjYyOEM5MC4yNzIgNDAuMDA2OCA5MS42MzggMzguNjM4OCA5My4yOTEgMzguNjM4OEM5NC45NDQgMzguNjM4OCA5Ni4zMDkgNDAuMDA2OCA5Ni4zMDkgNDEuNjYyOEM5Ni4zMDkgNDEuOTUwOCA5Ni4yMzggNDIuMzEwOCA5Ni4xNjYgNDIuNTk4OEw5Ni41MjUgNDMuMDMwOEwxMDEuMzQxIDM4LjIwNjhMOTkuMDQxIDM1LjkwMjhMMTAxLjE5NyAzMy43NDI4TDEwOC42NzIgNDEuMjMwOEwxMDYuNTE2IDQzLjM5MDhMMTA0LjU3NSA0MS40NDY4TDk5LjU0NCA0Ni40ODY4TDEwMC41NSA0Ny42Mzg4TDEwNC4wNzIgNDQuMTEwOEwxMDUuMTUgNDUuMTkwOFpNOTguNTM4IDQ1LjMzNDhMMTAzLjQ5NyA0MC4zNjY4TDEwMi40MTkgMzkuMjg2OEw5Ny41MzEgNDQuMTgyOEw5OC41MzggNDUuMzM0OFpNMTA1LjAwNiA0OS41ODI4TDEwMy45MjggNDguNTAyOEw5NS4yMzEgNTcuMjg2OEw5Ni4zMDkgNTguMzY2OEwxMDUuMDA2IDQ5LjU4MjhaTTk3LjMxNiA1OS40NDY4TDk4LjM5NCA2MC41MjY4TDEwNS4yMjIgNTMuNjg2OEwxMDQuMTQ0IDUyLjYwNjhMOTcuMzE2IDU5LjQ0NjhaTTEwOC42NzIgNjIuMTgyOEgxMDEuMDUzTDEwNS4xNSA1OC4wNzg4TDEwNC4wNzIgNTYuOTk4OEw5OC44OTcgNjIuMTgyOEg5Ni4zMDlWNjUuMjA2OEgxMDguNjcyVjYyLjE4MjhaTTQzLjQwOTQgMzAuMjE0OEw1MS41MzEzIDI0LjA5NDhMNDkuNzM0NCAyMS42NDY4TDQwLjM5MDYgMjguNzAyOFYzNi4zMzQ4SDQzLjQwOTRWMzAuMjE0OFoiCgkJZmlsbD0iIzhBOUVGRiIgLz4KCTxwYXRoIGQ9Ik00MC4zOTA2IDk4LjY4OEg0Ni41VjEwNC44MDdINDAuMzkwNlY5OC42ODhaIiBmaWxsPSIjOEE5RUZGIiAvPgoJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiCgkJZD0iTTk4Ljc1NDIgNzguNjcxMUMxMDAuOTgyIDc5Ljk2NzEgMTAyLjg1MSA4MS43NjcxIDEwNC4xNDQgODMuOTk5MUMxMDUuNTEgODYuMTU5MSAxMDYuMTU3IDg4LjY3OTEgMTA2LjE1NyA5MS4xOTkxQzEwNi4xNTcgOTMuNzE5MSAxMDUuNTEgOTYuMjM5MSAxMDQuMTQ0IDk4LjM5OTFDMTAyLjc3OSAxMDAuNTU5IDEwMC45ODIgMTAyLjM1OSA5OC43NTQyIDEwMy42NTVDOTQuMTU0MiAxMDYuMjQ3IDg4LjYxOTIgMTA2LjI0NyA4NC4wMTkyIDEwMy42NTVDODEuNzkxMiAxMDIuMzU5IDc5LjkyMjIgMTAwLjU1OSA3OC42MjkyIDk4LjM5OTFDNzcuMzM1MiA5Ni4yMzkxIDc2LjYxNjIgOTMuNzE5MSA3Ni42MTYyIDkxLjE5OTFDNzYuNjE2MiA4OC42NzkxIDc3LjMzNTIgODYuMTU5MSA3OC42MjkyIDgzLjk5OTFDNzkuOTIyMiA4MS43NjcxIDgxLjc5MTIgNzkuOTY3MSA4NC4wMTkyIDc4LjY3MTFDODYuMjQ3MiA3Ny4zNzUxIDg4Ljc2MzIgNzYuNzI3MSA5MS4zNTEyIDc2LjcyNzFDOTMuOTM4MiA3Ni43MjcxIDk2LjUyNjIgNzcuMzc1MSA5OC43NTQyIDc4LjY3MTFaTTgyLjY1NDIgOTEuMDU1MUM4Mi43MjYyIDk1Ljg3OTEgODYuNzUxMiA5OS43NjcxIDkxLjU2NjIgOTkuNjk1MUM5Ni4zODIyIDk5LjYyMzEgMTAwLjI2MyA5NS41OTExIDEwMC4xOTEgOTAuNzY3MUMxMDAuMTE5IDg1Ljk0MzEgOTYuMjM4MiA4Mi4xMjcxIDkxLjQyMjIgODIuMTI3MUM4Ni41MzUyIDgyLjE5OTEgODIuNTgyMiA4Ni4xNTkxIDgyLjY1NDIgOTEuMDU1MVoiCgkJZmlsbD0iIzhBOUVGRiIgLz4KCTxwYXRoIGQ9Ik0zNS45MzQgNzcuNDQ1MUgyOS41MzcxVjEwNC43MzNIMzUuOTM0Vjc3LjQ0NTFaIiBmaWxsPSIjOEE5RUZGIiAvPgoJPHBhdGgKCQlkPSJNMTYyLjAwMyA5OS42OTMxVjEwNC43MzNIMTQwLjhWNzcuNDQ1MUgxNjEuNVY4Mi40ODUxSDE0Ny4xMjVWODguMzg5MUgxNTkuODQ3VjkzLjI4NTFIMTQ3LjEyNVY5OS42MjExSDE2Mi4wMDNWOTkuNjkzMVoiCgkJZmlsbD0iIzhBOUVGRiIgLz4KCTxwYXRoCgkJZD0iTTEzNS44NDEgMTA0LjczM1Y3Ny40NDUxSDEyOS41ODhWOTQuMDA1MUwxMTYuMDc1IDc3LjQ0NTFIMTEwLjgyOFYxMDQuNzMzSDExNy4wODFWODguMTczMUwxMzAuNjY2IDEwNC43MzNIMTM1Ljg0MVoiCgkJZmlsbD0iIzhBOUVGRiIgLz4KCTxwYXRoCgkJZD0iTTczLjgxMyA5OS42MjExVjEwNC44MDVINTAuODg0OFYxMDAuNzAxTDY1LjYxOTEgODIuNjI5MUg1MC44ODQ4Vjc3LjQ0NTFINzMuODEzVjgxLjU0OTFMNTkuMTUwNCA5OS42MjExSDczLjgxM1oiCgkJZmlsbD0iIzhBOUVGRiIgLz4KCTxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIgoJCWQ9Ik0yMy42NDM5IDkzLjA2OTFDMjIuNzA5NiA5MS44NDUxIDIxLjQxNTggOTAuOTgxMSAxOS45NzgzIDkwLjU0OTFDMjEuMDU2NCA4OS45NzMxIDIxLjk5MDggODkuMTA5MSAyMi42Mzc3IDg4LjEwMTFDMjMuMjg0NiA4Ny4wMjExIDIzLjY0MzkgODUuNzk3MSAyMy42NDM5IDg0LjU3MzFDMjMuNzE1OCA4Mi40ODUxIDIyLjcwOTYgODAuNTQxMSAyMC45ODQ2IDc5LjM4OTFDMTkuMTg3NyA3OC4wOTMxIDE2LjY3MjEgNzcuNDQ1MSAxMy4zNjU4IDc3LjQ0NTFILTAuMDAyOTI5NjlWMTA0LjczM0gxNC4wODQ2QzE3LjYwNjQgMTA0LjczMyAyMC4zMzc3IDEwNC4wODUgMjIuMjA2NCAxMDIuNzg5QzI0LjAwMzMgMTAxLjU2NSAyNS4wODE0IDk5LjQ3NzEgMjUuMDA5NiA5Ny4yNDUxQzI1LjAwOTYgOTUuNzMzMSAyNC41NzgzIDk0LjI5MzEgMjMuNjQzOSA5My4wNjkxWk02LjI1MDE3IDg4LjYwNTFWODIuMTk3MUgxMi41MDMzQzEzLjcyNTIgODIuMTI1MSAxNC45NDcxIDgyLjQxMzEgMTYuMDI1MiA4Mi45ODkxQzE2LjgxNTggODMuNDkzMSAxNy4zMTg5IDg0LjQyOTEgMTcuMjQ3MSA4NS4zNjUxQzE3LjMxODkgODYuMzAxMSAxNi44MTU4IDg3LjIzNzEgMTYuMDI1MiA4Ny44MTMxQzE0Ljk0NzEgODguNDYxMSAxMy43MjUyIDg4LjY3NzEgMTIuNTAzMyA4OC42MDUxSDYuMjUwMTdaTTE3LjMxODkgOTkuMTg5MUMxNi4xNjg5IDk5LjgzNzEgMTQuODc1MiAxMDAuMDUzIDEzLjU4MTQgOTkuOTgxMUg2LjI1MDE3VjkzLjIxMzFIMTMuNTgxNEMxNi45NTk2IDkzLjIxMzEgMTguNjEyNyA5NC4zNjUxIDE4LjYxMjcgOTYuNTk3MUMxOC42ODQ2IDk3LjYwNTEgMTguMTgxNCA5OC42MTMxIDE3LjMxODkgOTkuMTg5MVoiCgkJZmlsbD0iIzhBOUVGRiIgLz4KCTxwYXRoCgkJZD0iTTQzLjc2ODggMTE0LjU5OEM0NS45MjUxIDExNC41OTggNDcuMTQ3IDExNS4zMTggNDcuMzYyNiAxMTcuMjYySDQ1LjcwOTRDNDUuNTY1NiAxMTYuMTgyIDQ0LjkxODggMTE1Ljg5NCA0My43Njg4IDExNS44OTRDNDIuNDc1MSAxMTUuODk0IDQxLjY4NDUgMTE2LjM5OCA0MS42ODQ1IDExOC4xMjZWMTE5LjIwNkM0MS42ODQ1IDEyMC45MzQgNDIuNDc1MSAxMjEuNTEgNDMuNzY4OCAxMjEuNTFDNDQuODQ3IDEyMS41MSA0NS40OTM4IDEyMS4yMjIgNDUuNzA5NCAxMjAuMjE0SDQ3LjM2MjZDNDcuMTQ3IDEyMi4wODYgNDUuOTI1MSAxMjIuODA2IDQzLjc2ODggMTIyLjgwNkM0MS4zOTcgMTIyLjgwNiA0MC4wMzEyIDEyMS43MjYgNDAuMDMxMiAxMTguNzAyQzQwLjAzMTIgMTE1LjY3OCA0MS40Njg4IDExNC41OTggNDMuNzY4OCAxMTQuNTk4WiIKCQlmaWxsPSIjOEE5RUZGIiAvPgoJPHBhdGgKCQlkPSJNNDkuMzAyOSAxMjMuODE1QzQ5Ljg3NzkgMTIzLjg4NyA1MC4zODExIDEyMy41OTkgNTAuNTI0OCAxMjMuMDIzTDUwLjU5NjcgMTIyLjg3OUw0OC4wODExIDExNi45NzVINDkuNjYyM0w1MS4zMTU0IDEyMS4wMDdMNTIuOTY4NiAxMTYuOTc1SDU0LjQwNjFMNTEuODE4NiAxMjMuNDU1QzUxLjMxNTQgMTI0LjY3OSA1MC44MTIzIDEyNS4wMzkgNDkuNTkwNCAxMjUuMDM5SDQ4Ljc5OThWMTIzLjg4N0w0OS4zMDI5IDEyMy44MTVaIgoJCWZpbGw9IiM4QTlFRkYiIC8+Cgk8cGF0aAoJCWQ9Ik01Ni44NTAyIDExNC4zMVYxMTcuNjIyQzU3LjI4MTQgMTE2Ljk3NCA1OC4wNzIxIDExNi42MTQgNTguODYyNyAxMTYuNjg2QzYwLjUxNTggMTE2LjY4NiA2MS40NTAyIDExNy41NSA2MS40NTAyIDExOS43MUM2MS40NTAyIDEyMS44NyA2MC41MTU4IDEyMi43MzQgNTguODYyNyAxMjIuNzM0QzU4LjA3MjEgMTIyLjgwNiA1Ny4yODE0IDEyMi40NDYgNTYuODUwMiAxMjEuNzk4VjEyMi41OUg1NS4zNDA4VjExNC4yMzhINTYuODUwMlYxMTQuMzFaTTU5Ljg2ODkgMTE5LjI3OEM1OS44Njg5IDExOC4yNyA1OS4zNjU4IDExNy44MzggNTguMzU5NiAxMTcuODM4QzU3LjM1MzMgMTE3LjgzOCA1Ni44NTAyIDExOC4yNyA1Ni44NTAyIDExOS4yNzhWMTIwLjIxNEM1Ni44NTAyIDEyMS4yMjIgNTcuMzUzMyAxMjEuNjU0IDU4LjM1OTYgMTIxLjY1NEM1OS4zNjU4IDEyMS42NTQgNTkuODY4OSAxMjEuMjIyIDU5Ljg2ODkgMTIwLjIxNFYxMTkuMjc4WiIKCQlmaWxsPSIjOEE5RUZGIiAvPgoJPHBhdGgKCQlkPSJNNjUuMzMxMyAxMTYuNzU4QzY3LjI3MiAxMTYuNzU4IDY4LjI3OCAxMTcuNTUgNjguMjc4IDExOS42MzhWMTE5Ljk5OEg2My45NjU3VjEyMC4yODZDNjMuOTY1NyAxMjEuMzY2IDY0LjQ2ODggMTIxLjc5OCA2NS40MDMyIDEyMS43OThDNjYuMTk0IDEyMS43OTggNjYuNjI1IDEyMS41MSA2Ni43NjkgMTIwLjkzNEg2OC4zNUM2OC4xMzQgMTIyLjIzIDY3LjEyOCAxMjIuODc4IDY1LjQ3NSAxMjIuODc4QzYzLjUzNDQgMTIyLjg3OCA2Mi41MjgyIDEyMi4wMTQgNjIuNTI4MiAxMTkuODU0QzYyLjM4NDQgMTE3LjYyMiA2My4zOTA3IDExNi43NTggNjUuMzMxMyAxMTYuNzU4Wk02My44OTM4IDExOS4wNjJINjYuNjk3QzY2LjY5NyAxMTguMTI2IDY2LjE5NCAxMTcuNzY2IDY1LjMzMTMgMTE3Ljc2NkM2NC4zOTY5IDExNy43NjYgNjMuODkzOCAxMTguMTk4IDYzLjg5MzggMTE5LjA2MloiCgkJZmlsbD0iIzhBOUVGRiIgLz4KCTxwYXRoCgkJZD0iTTcwLjkzNzIgMTE2LjkwMVYxMTguMDUzQzcxLjIyNTIgMTE3LjMzMyA3MS45NDMyIDExNi44MjkgNzIuNzM0MiAxMTYuOTAxSDczLjM4MTJWMTE4LjI2OUg3Mi41OTAyQzcxLjUxMjIgMTE4LjI2OSA3MS4wMDkyIDExOC42MjkgNzEuMDA5MiAxMTkuNjM3VjEyMi43MzNINjkuNDI4MlYxMTYuOTczTDcwLjkzNzIgMTE2LjkwMVoiCgkJZmlsbD0iIzhBOUVGRiIgLz4KCTxwYXRoCgkJZD0iTTc1LjY4MDggMTIwLjg2MkM3NS43NTI4IDEyMS41ODIgNzYuMTg0OCAxMjEuNzk4IDc2Ljk3NDggMTIxLjc5OEM3Ny44Mzc4IDEyMS43OTggNzguMTk2OCAxMjEuNTgyIDc4LjE5NjggMTIxLjA3OEM3OC4xOTY4IDExOS42MzggNzQuMTcxOCAxMjEuMTUgNzQuMTcxOCAxMTguNTU4Qzc0LjE3MTggMTE3LjMzNCA3NS4xNzc4IDExNi44MyA3Ni44MzA4IDExNi44M0M3OC40ODQ4IDExNi44MyA3OS40OTA4IDExNy4zMzQgNzkuNTYyOCAxMTguNjNINzcuOTgwOEM3Ny45MDk4IDExNy45ODIgNzcuNDc3OCAxMTcuODM4IDc2LjgzMDggMTE3LjgzOEM3Ni4xMTI4IDExNy44MzggNzUuNjgwOCAxMTguMDU0IDc1LjY4MDggMTE4LjU1OEM3NS42ODA4IDExOS45MjYgNzkuNzA1OCAxMTguNDE0IDc5LjcwNTggMTIxLjA3OEM3OS43MDU4IDEyMi4zNzQgNzguNjk5OCAxMjIuODc4IDc2LjkwMjggMTIyLjg3OEM3NS4xMDU4IDEyMi44NzggNzQuMDk5OCAxMjIuMzAyIDc0LjAyNzggMTIwLjkzNEg3NS42ODA4VjEyMC44NjJaIgoJCWZpbGw9IiM4QTlFRkYiIC8+Cgk8cGF0aAoJCWQ9Ik04My41ODcxIDExNi43NThDODUuNTI4MSAxMTYuNzU4IDg2LjUzNDEgMTE3LjU1IDg2LjUzNDEgMTE5LjYzOFYxMTkuOTk4SDgyLjIyMjFWMTIwLjI4NkM4Mi4yMjIxIDEyMS4zNjYgODIuNzI1MSAxMjEuNzk4IDgzLjY1OTEgMTIxLjc5OEM4NC40NTAxIDEyMS43OTggODQuODgxMSAxMjEuNTEgODUuMDI1MSAxMjAuOTM0SDg2LjYwNjFDODYuMzkwMSAxMjIuMjMgODUuMzg0MSAxMjIuODc4IDgzLjczMTEgMTIyLjg3OEM4MS43OTAxIDEyMi44NzggODAuNzg0MSAxMjIuMDE0IDgwLjc4NDEgMTE5Ljg1NEM4MC42NDAxIDExNy42MjIgODEuNjQ3MSAxMTYuNzU4IDgzLjU4NzEgMTE2Ljc1OFpNODIuMTUwMSAxMTkuMDYySDg0Ljk1MzFDODQuOTUzMSAxMTguMTI2IDg0LjQ1MDEgMTE3Ljc2NiA4My41ODcxIDExNy43NjZDODIuNjUzMSAxMTcuNzY2IDgyLjE1MDEgMTE4LjE5OCA4Mi4xNTAxIDExOS4wNjJaIgoJCWZpbGw9IiM4QTlFRkYiIC8+Cgk8cGF0aAoJCWQ9Ik05MC4zNDQyIDExNi43NThDOTEuOTk3MiAxMTYuNzU4IDkzLjAwMzIgMTE3LjI2MiA5My4xNDcyIDExOC42M0g5MS41NjYyQzkxLjQ5NDIgMTE4LjA1NCA5MS4wNjIyIDExNy44MzggOTAuMzQ0MiAxMTcuODM4Qzg5LjQ4MTIgMTE3LjgzOCA4OS4wNTAyIDExOC4yNyA4OS4wNTAyIDExOS4yNzhWMTIwLjI4NkM4OS4wNTAyIDEyMS4zNjYgODkuNTUzMiAxMjEuNzI2IDkwLjM0NDIgMTIxLjcyNkM5MS4xMzQyIDEyMS43MjYgOTEuNDk0MiAxMjEuNDM4IDkxLjU2NjIgMTIwLjkzNEg5My4xNDcyQzkyLjkzMTIgMTIyLjIzIDkyLjA2OTIgMTIyLjg3OCA5MC4zNDQyIDEyMi44NzhDODguNDc1MiAxMjIuODc4IDg3LjQ2OTIgMTIyLjE1OCA4Ny40NjkyIDExOS44NTRDODcuNDY5MiAxMTcuNjIyIDg4LjMzMTIgMTE2Ljc1OCA5MC4zNDQyIDExNi43NThaIgoJCWZpbGw9IiM4QTlFRkYiIC8+Cgk8cGF0aAoJCWQ9Ik05NC4yMjUxIDExNi45MDJIOTUuODA2MVYxMjAuNTc0Qzk1LjgwNjEgMTIxLjUxIDk2LjIzNzEgMTIxLjcyNiA5Ny4wMjgxIDEyMS43MjZDOTcuODE4MSAxMjEuNzI2IDk4LjM5MzEgMTIxLjQzOCA5OC4zOTMxIDEyMC41NzRWMTE2Ljk3NEg5OS45NzUxVjEyMi43MzRIOTguNDY1MVYxMjEuODdDOTguMDM0MSAxMjIuNTkgOTcuMjQzMSAxMjIuOTUgOTYuNDUzMSAxMjIuODc4Qzk1LjAxNTEgMTIyLjg3OCA5NC4yOTYxIDEyMi4zMDIgOTQuMjk2MSAxMjAuNjQ2TDk0LjIyNTEgMTE2LjkwMloiCgkJZmlsbD0iIzhBOUVGRiIgLz4KCTxwYXRoCgkJZD0iTTEwMi45MjEgMTE2LjkwMVYxMTguMDUzQzEwMy4yMDkgMTE3LjMzMyAxMDMuOTI4IDExNi44MjkgMTA0LjcxOCAxMTYuOTAxSDEwNS4zNjVWMTE4LjI2OUgxMDQuNTc1QzEwMy40OTYgMTE4LjI2OSAxMDIuOTkzIDExOC42MjkgMTAyLjk5MyAxMTkuNjM3VjEyMi43MzNIMTAxLjQxMlYxMTYuOTczTDEwMi45MjEgMTE2LjkwMVoiCgkJZmlsbD0iIzhBOUVGRiIgLz4KCTxwYXRoCgkJZD0iTTEwNy4wMTkgMTE0LjMxMUMxMDcuNTk0IDExNC4zMTEgMTA3Ljg4MSAxMTQuNTk5IDEwNy44ODEgMTE1LjEwM0MxMDcuODgxIDExNS42NzkgMTA3LjU5NCAxMTUuODk1IDEwNy4wMTkgMTE1Ljg5NUMxMDYuNDQ0IDExNS44OTUgMTA2LjE1NiAxMTUuNjA3IDEwNi4xNTYgMTE1LjEwM0MxMDYuMTU2IDExNC41MjcgMTA2LjUxNiAxMTQuMzExIDEwNy4wMTkgMTE0LjMxMVpNMTA3LjgwOSAxMTYuOTAzVjEyMi42NjNIMTA2LjIyOFYxMTYuOTAzSDEwNy44MDlaIgoJCWZpbGw9IiM4QTlFRkYiIC8+Cgk8cGF0aAoJCWQ9Ik0xMDkuNTM0IDExOC4xMjZIMTA4LjgxNVYxMTYuOTAySDEwOS41MzRWMTE1LjE3NEgxMTEuMTE1VjExNi45MDJIMTEyLjY5N1YxMTguMTI2SDExMS4xMTVWMTIwLjcxOEMxMTEuMDQ0IDEyMS4wNzggMTExLjMzMSAxMjEuNDM4IDExMS42OSAxMjEuNTFDMTExLjc2MiAxMjEuNTEgMTExLjgzNCAxMjEuNTEgMTExLjkwNiAxMjEuNTFIMTEyLjY5N1YxMjIuNzM0SDExMS40MDNDMTEwLjAzNyAxMjIuNzM0IDEwOS42MDYgMTIyLjIzIDEwOS42MDYgMTIwLjkzNFYxMTguMTI2SDEwOS41MzRaIgoJCWZpbGw9IiM4QTlFRkYiIC8+Cgk8cGF0aAoJCWQ9Ik0xMTQuNDkzIDEyMy44MTVDMTE1LjA2OCAxMjMuODg3IDExNS41NzEgMTIzLjU5OSAxMTUuNzE1IDEyMy4wMjNMMTE1Ljc4NyAxMjIuODc5TDExMy4yNzEgMTE2Ljk3NUgxMTQuODUzTDExNi41MDYgMTIxLjAwN0wxMTguMTU5IDExNi45NzVIMTE5LjU5NkwxMTcuMDA5IDEyMy40NTVDMTE2LjUwNiAxMjQuNjc5IDExNi4wMDMgMTI1LjAzOSAxMTQuNzgxIDEyNS4wMzlIMTEzLjk5VjEyMy44ODdMMTE0LjQ5MyAxMjMuODE1WiIKCQlmaWxsPSIjOEE5RUZGIiAvPgo8L3N2Zz4=);
}

.title-page-top .title-page-top-right::after {
	top: 50px;
	right: 40px;
	text-align: end;
	color: #a0a0a0;
	line-height: 160%;
	position: absolute;
	white-space: pre-line;
	content: "ул. Ольховская, д. 4, корп. 2\A г. Москва, 105066\A +7 499 110-25-34\A info@bi.zone\A www.bi.zone";
}

*/

	@media print {
		visibility: visible;
		height: auto !important;
		overflow: visible !important;

		@page {
			margin: 0;
			padding: 0;
		}

		.page {
			margin: 0;
			padding: 0;
			border: none;
			padding-right: 3rem;
			height: ${PAGE_HEIGHT_PDF}px !important;
		}

		.render-body {
			display: none;
		}
	}
`;
